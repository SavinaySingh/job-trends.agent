{% load static %} {% csrf_token %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Explore Job Trends</title>

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" />

    <style>
      body {
        background: linear-gradient(to right, #f7f9fc, #e3f2fd);
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      }

      .card {
        border: none;
        border-radius: 20px;
        background-color: #ffffff;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        transition: transform 0.3s ease-in-out;
      }

      .card:hover {
        transform: scale(1.01);
      }

      header h1 {
        font-weight: 700;
        color: #2c3e50;
      }

      .chat-container {
        max-height: 500px;
        overflow-y: auto;
        padding-right: 10px;
      }

      .message {
        font-size: 1rem;
        line-height: 1.6;
      }

      .bot-message {
        background-color: #dff9fb;
        color: #0984e3;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        border-radius: 12px;
        padding: 12px 16px;
        margin-bottom: 12px;
      }

      .user-message {
        background-color: #e8f0fe;
        color: #2d3436;
        text-align: right;
        border-radius: 12px;
        padding: 12px 16px;
        margin-bottom: 12px;
      }

      .input-container {
        gap: 1rem;
      }

      #textInput {
        border: 1px solid #ced4da;
        border-radius: 10px;
        padding: 0.75rem 1rem;
        font-size: 1rem;
        transition: border-color 0.2s ease-in-out;
      }

      #textInput:focus {
        border-color: #28a745;
        box-shadow: 0 0 0 0.2rem rgba(40, 167, 69, 0.25);
      }

      .btn-primary {
        background-color: #28a745;
        border-color: #28a745;
        font-weight: 600;
      }

      .btn-primary:hover {
        background-color: #218838;
        border-color: #1e7e34;
      }

      #cameraIcon {
        cursor: pointer;
        transition: transform 0.2s ease-in-out;
      }

      #cameraIcon:hover {
        transform: scale(1.1);
      }

      @media (max-width: 576px) {
        header h1 {
          font-size: 1.8rem;
        }

        #textInput,
        .btn-primary {
          font-size: 0.9rem;
        }
      }
      body.dark-mode {
  background: #121212;
  color: #e0e0e0;
}

body.dark-mode .card {
  background-color: #1e1e1e;
  box-shadow: 0 4px 20px rgba(255, 255, 255, 0.05);
}

body.dark-mode header h1 {
  color: #ffffff;
}

body.dark-mode .text-muted {
  color: #b0b0b0 !important;
}

body.dark-mode .bot-message {
  background-color: #263238;
  color: #80d8ff;
  border: 1px solid #37474f;
}

body.dark-mode .user-message {
  background-color: #1f2a36;
  color: #ffffff;
  border: 1px solid #37474f;
}

body.dark-mode #textInput {
  background-color: #2a2a2a;
  color: #ffffff;
  border: 1px solid #444;
}

body.dark-mode #textInput::placeholder {
  color: #888;
}

body.dark-mode .btn-primary {
  background-color: #00bfa5;
  border-color: #00bfa5;
}

body.dark-mode .btn-primary:hover {
  background-color: #009e88;
  border-color: #008675;
}

body.dark-mode .btn-outline-dark {
  color: #ffffff;
  border-color: #888;
}

body.dark-mode #cameraIcon {
  filter: invert(90%);
}

    </style>
  </head>

  <body>
    <div
      class="container d-flex flex-column justify-content-center align-items-center py-5"
    >
    <header class="text-center mb-4">
      <h1 class="display-4">Job Trends Agent</h1>
      <p class="text-muted">Your AI assistant for career discovery</p>
      <button
        class="btn btn-sm btn-outline-dark mt-2"
        id="toggleThemeBtn"
        onclick="toggleTheme()"
      >
      üåô Dark Mode
      </button>
    </header>

      <div class="card shadow-lg w-100 w-md-75 w-lg-50">
        <div class="card-body d-flex flex-column" style="height: 600px;">
          <div class="chat-container mb-3 flex-grow-1" id="chatBox">
            <div class="message bot-message">
              üëã <strong>Hey there!</strong> I‚Äôm your job trends assistant ‚Äî here to help you understand how <strong>AI is reshaping the job market</strong>.
              <br /><br />
              You can ask me questions like:
              <ul class="mt-2 mb-0">
                <li>üíº Which jobs are most at risk due to AI?</li>
                <li>üß† What new roles are emerging because of AI?</li>
                <li>üíª How is AI impacting marketing or software jobs?</li>
                <li>üõ°Ô∏è What skills can protect my career from automation?</li>
                <li>üîç Is my current role likely to be automated soon?</li>
              </ul>
              <br />
              Just type a question below to explore real trends powered by data. üìä
            </div>
          </div>

          <div class="input-container d-flex flex-column">
            <div class="d-flex align-items-center gap-2">
              <label for="fileInput" class="m-0">
                <img
                  id="cameraIcon"
                  src="{% static 'icons/camera_icon.svg' %}"
                  alt="Camera Icon"
                  width="30"
                  height="30"
                />
              </label>
              <input
                type="file"
                id="fileInput"
                accept="image/*"
                onchange="updateIcon()"
                class="d-none"
              />
              <input
                type="text"
                id="textInput"
                name="textInput"
                class="form-control form-control-lg"
                placeholder="Enter your message..."
              />
            </div>
            <button
              type="submit"
              onclick="sendMessage()"
              class="btn btn-primary btn-lg w-100 mt-2"
            >
              Send
            </button>
          </div>
        </div>
      </div>
    </div>

    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/scripts.js' %}"></script>
    <script>
      function toggleTheme() {
        const body = document.body;
        const toggleBtn = document.getElementById("toggleThemeBtn");
    
        body.classList.toggle("dark-mode");
        const isDark = body.classList.contains("dark-mode");
    
        // Store preference
        localStorage.setItem("darkMode", isDark);
    
        // Update button label
        toggleBtn.innerHTML = isDark ? "‚òÄÔ∏è Day Mode" : "üåô Dark Mode";
      }
    
      // Load preference on page load
      window.onload = () => {
        const prefersDark = localStorage.getItem("darkMode") === "true";
        const toggleBtn = document.getElementById("toggleThemeBtn");
    
        if (prefersDark) {
          document.body.classList.add("dark-mode");
          toggleBtn.innerHTML = "‚òÄÔ∏è Day Mode";
        } else {
          toggleBtn.innerHTML = "üåô Dark Mode";
        }
      };
    </script>
  </body>
</html>
